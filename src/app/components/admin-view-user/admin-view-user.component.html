<div *ngIf="user">
  <h2>{{user.firstName}} {{user.lastName}} - [{{user.companyCode}}]</h2> <button class="btn btn-primary" routerLink="/admin" pull-right>Back</button>
  <hr>
  <div class="grid" padding>
    <div class="row">
      <div class="col-md-4">Last Update: <strong>{{user.updatedAt | date: "MM/dd/yyyy"}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">{{user.firstName}} heard about TFDL through: <strong>{{user.hear ? (user.hear | hear) :
          'Not Provided'}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">Education Level: <strong>{{user.education ? (user.education | education) : 'Not Provided'}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">Occupation: <strong>{{user.occupation ? (user.occupation | occupation) : 'Not Provided'}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">Ethnicity: <strong>{{user.ethnicity ? (user.ethnicity | ethnicity) : 'Not Provided'}}</strong></div>
    </div>
  </div>
</div>
<hr>
<div *ngIf="user && assessmentData">
  <div class="grid" padding>
    <div class="row">
      <div class="col-md-4">{{user.firstName}} has taken {{assessmentData.length}} assessment(s).</div>
    </div>

    <div class="panel panel-primary" *ngFor="let a of assessmentData; let i = index">
      <div class="panel-heading" padding>
        <div class="row">
          <div class="col-md-6">
            <h3 class="panel-title">{{a.createdAt | date:'MMM dd yyyy - hh:mm a'}} <span class="red" *ngIf="checkComplete(a)">Not
                Completed.</span></h3>
          </div>
          <div class="col-md-6" text-right><button tooltip="View Assessment." placement="top" triggers="mouseenter" class="btn btn-success btn-sm"
              [disabled]="checkComplete(a)" (click)="loadAssessment(a)">View This Assessment</button></div>
        </div>
      </div>
      <div class="panel-body">

        <div class="row">
          <div class="col-md-12">
            <div class="panel panel-success">
              <div class="panel-heading" padding>
                <h3 class="panel-title">Assessment Answers...</h3>
              </div>
              <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered">
                  <tr>
                    <th>Dimension</th>
                    <th>Question</th>
                    <th>Answer</th>
                  </tr>
                  <tr *ngFor="let item of a.assessment">
                    <td>{{getDimension(item.id).category}}</td>
                    <td>{{mapAssessmentQuestion(item)}}</td>
                    <td>{{mapAssessmentAnswer(item)}}</td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="panel panel-info">
              <div class="panel-heading" padding>
                <h3 class="panel-title">Survey Answers...</h3>
              </div>
              <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered">
                  <tr *ngFor="let item of a.survey">
                    <td>{{mapSurveyQuestion(item)}}</td>
                    <td>{{mapSurveyAnswer(item)}}</td>
                  </tr>
                </table>
              </div>
            </div>

            <div class="panel panel-warning">
              <div class="panel-heading" padding>
                <h3 class="panel-title">Stress and Motivation...</h3>
              </div>
              <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered">
                  <tr>
                    <th>Dimension</th>
                    <th>Stress Level</th>
                    <th style="text-align: center">Motivated</th>
                  </tr>
                  <tr *ngFor="let item of a.dimensions">
                    <td>{{getDimension(item.id).category}}</td>
                    <td>{{item.stressLevel || 'Not Answered'}}</td>
                    <td align="center"><span *ngIf="getMotivated(a, item)" class="glyphicon glyphicon-ok-circle green"
                        aria-hidden="true" style="font-size: 22px;"></span> <span *ngIf="!getMotivated(a, item)" class="glyphicon glyphicon-remove-circle red"
                        aria-hidden="true" style="font-size: 22px;"></span></td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
