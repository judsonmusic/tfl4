<div *ngIf="user">
  <h2>{{user.firstName}} {{user.lastName}}</h2> <button class="btn btn-primary" routerLink="/admin" pull-right>Back</button>
  <h4><i>[{{user.companyCode}}]</i></h4>
  <hr>
  <div class="grid" padding>
    <div class="row">
      <div class="col-md-4">Last Update: <strong>{{user.updatedAt | date: "MM/dd/yyyy"}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">{{user.firstName}} heard about TFDL through: <strong>{{user.hear ? (user.hear | hear) :
          'Not Provided'}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">Education Level: <strong>{{user.education ? (user.education | education) : 'Not Provided'}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">Occupation: <strong>{{user.occupation ? (user.occupation | occupation) : 'Not Provided'}}</strong></div>
    </div>
    <div class="row">
      <div class="col-md-4">Ethnicity: <strong>{{user.ethnicity ? (user.ethnicity | ethnicity) : 'Not Provided'}}</strong></div>
    </div>
  </div>
</div>
<hr>
<div *ngIf="user && assessmentData">
  <div class="grid" padding>
    <div class="row">
      <div class="col-md-4">{{user.firstName}} has taken {{assessmentData.length}} assessment(s).</div>
    </div>   
    <div class="row" *ngFor="let a of assessmentData; let i = index" >
      <div class="col-md-12">
        <table width="100%" class="table table-striped table-bordered" style="border: 4px solid #337ab7; margin-bottom: 20px;">
          <tr>
            <td colspan="5" style="background:lightgrey">
              <h3>{{i+1}}. Assessment Answers for {{user.firstName + " " + user.lastName}}</h3> 
              <button  tooltip="View Assessment." placement="top" triggers="mouseenter" pull-right class="btn btn-primary" [disabled]="checkComplete(a)" (click)="loadAssessment(a)">{{a.createdAt | date:'MMM dd yyyy - hh:mm a'}}</button> 
              <span class="red" *ngIf="checkComplete(a)">Not Completed.</span>
              <table width="100%" class="table table-striped table-bordered">
                <tr>
                  <th>Dimension</th>
                  <th>Question</th>
                  <th>Answer</th>
                </tr>
                <tr *ngFor="let item of a.assessment">
                  <td>{{getDimension(item.id).category}}</td>
                  <td>{{mapAssessmentQuestion(item)}}</td>
                  <td>{{mapAssessmentAnswer(item)}}</td>
                </tr>
              </table>
              <hr>
              <h3>Survey Answers for {{user.firstName + " " + user.lastName}}</h3>
              <hr>
              <table width="100%" class="table table-striped table-bordered">
                <tr *ngFor="let item of a.survey">
                  <td>{{mapSurveyQuestion(item)}}</td>
                  <td>{{mapSurveyAnswer(item)}}</td>
                </tr>
              </table>
              <hr>
              <h3>Stress and Motivation for {{user.firstName + " " + user.lastName}}</h3>
              <hr>
              <table width="100%" class="table table-striped table-bordered">
                <tr>
                  <th>Dimension</th>
                  <th>Stress Level</th>
                  <th>Motivated</th>
                </tr>
                <tr *ngFor="let item of a.dimensions">
                  <td>{{getDimension(item.id).category}}</td>
                  <td>{{item.stressLevel || 'Not Answered'}}</td>
                  <td>{{getMotivated(a, item)}}</td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
